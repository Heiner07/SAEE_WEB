@inject CursosServices ServicioCursos
@inject NavigationManager Navigation

<Form OnValidSubmit="AgregarCurso" Titulo="Agregando curso" TextoBoton="Agregar" Curso="@curso" GruposAgregados="@GruposAgregados" IdProfesor="IdProfesor"/>

@code {

    [Parameter] public int IdProfesor { get; set; }
    Cursos curso = new Cursos();
    List<CursosGrupos> GruposAgregados;

    protected override void OnInitialized()
    {
        GruposAgregados = curso.CursosGrupos.ToList();
    }

    async Task AgregarCurso()
    {
        curso.IdProfesor = IdProfesor;
        curso.CursosGrupos = GruposAgregados;
        await ServicioCursos.PostCursos(curso);
        Navigation.NavigateTo("cursos", true);
    }
}
